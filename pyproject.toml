[build-system]
requires = ["hatchling>=1.26", 'torch']
build-backend = "hatchling.build"
# [tool.hatch.build.targets.wheel]

# Do NOT put shared runtime deps here unless theyâ€™re truly compatible across projects.

[tool.uv.workspace]
members = [
  # "core",
  # "plugins/hamer",
  # "plugins/server_camera",
  # "plugins/server_da3",
  # "plugins/server_sam3do",
]


[project]
name = "xclients"
version = "0.1.0"
description = "Add your description here"
readme = "README.md"
requires-python = ">=3.11"
dependencies = [
    "numpy",
    "pydantic>=2.11.10",
    "rich>=14.2.0",
    "tyro>=0.9.35",
    "webpolicy",
]

[tool.uv.sources]
# xclients = { workspace = true }
webpolicy = { git = "https://github.com/mhyatt000/webpolicy" }

[project.scripts]
yourpkg = "yourpkg.cli:main"   # if you expose a CLI
da3 = "depth_anything_3.cli:app"

[tool.pytest.ini_options]
addopts = "-q"

[tool.ruff]
target-version = "py310"
line-length = 100
lint.extend-select = ["I", "UP", "B", "C4", "SIM", "PERF"]
fix = true
src = ["src", "tests"]

[tool.pyright]
include = ["src", "tests"]
reportMissingTypeStubs = false

[tool.coverage.run]
source = ["yourpkg"]
branch = true

[tool.uv]
conflicts = [
    [
      { package = "server-hamer"},
      { package = "server-da3"},
      { package = "server-camera"},
      { package = "server-sam3do"},
    ],
]
