[project]
name = "xclients"
channels = ["conda-forge"]
platforms = ["linux-64", "osx-arm64", "osx-64"]  # add win-64 if needed

[project.description]
text = "Dev env and task runner for yourpkg"

# Pin Python once, let uv resolve wheels/sdists inside
[dependencies]
python = ">=3.10,<3.13"

# System libs that wheels may need. Keep minimal.
# example: "graphviz" = "*"  # only if needed

[tasks]
# Setup: create a venv, sync deps from pyproject, install pre-commit hooks
setup = """
uv venv .venv && \
uv sync --all-extras --dev && \
. .venv/bin/activate && pre-commit install
"""

# Fast checks
fmt = "uv run ruff format ."
lint = "uv run ruff check ."
typecheck = "uv run pyright"
test = "uv run pytest -q"
cov = "uv run pytest --cov=yourpkg --cov-report=term-missing"
all = "pixi run fmt && pixi run lint && pixi run typecheck && pixi run test"

# Local build and publish
build = "uv build"
publish = "uv publish  # requires tokens configured"

# Example CLI smoke test
run = "uv run yourpkg --help"

[feature.dev.dependencies]
# Non-Python tools you want available cross-platform
pre-commit = "*"   # provided by conda-forge
